<html>

<head>
  <!-- stylesheet -->
  <link href="../_static/css/literallycanvas.css" rel="stylesheet">
  <style>
    .my-drawing {
      /* 宽度可自定义 */
      width: 1000px;
      /* 高度无效 */
      height: 600px;
    }

    /* 这样子定义高度 */

    .my-drawing .literally {
      height: 600px;
    }
  </style>
  <!-- dependency: React.js -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/react/0.14.7/react-with-addons.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/react/0.14.7/react-dom.js"></script>

  <!-- Literally Canvas -->
  <script src="../_static/js/literallycanvas.js"></script>
  <title>literallycanvas-with-shapes</title>
</head>

<body>
  <!-- where the widget goes. you can do CSS to it. -->
  <!-- note: as of 0.4.13, you cannot use 'literally' as the class name.
         sorry about that. -->
  <div class="my-drawing"></div>

  <!-- kick it off -->
  <script>
    
    var lc = LC.init(
      document.getElementsByClassName('my-drawing')[0],
      { imageURLPrefix: '../_static/img' }
    );
    var img = new Image()
      img.src = '../_static/img/bear.png'
    var shapes = [
      //创建图片
      LC.createShape('Image', { image: img, x: 0, y: 10 }),
      LC.createShape('Image', { image: img, x: 120, y: 10, scale: 0.5 }),
      //创建多边形，LC.createShape('Polygon', {points, fillColor, strokeColor, strokeWidth, isClosed})
      LC.createShape('Polygon', {
        strokeColor: '#080', fillColor: 'red', strokeWidth: 1,
        points: [
          //创建点
          LC.createShape('Point', { x: 210, y: 10 }),
          LC.createShape('Point', { x: 210, y: 90 }),
          LC.createShape('Point', { x: 250, y: 50 }),
          LC.createShape('Point', { x: 290, y: 90 }),
          LC.createShape('Point', { x: 290, y: 10 })
        ]
      }),
      LC.createShape('Polygon', {
        strokeColor: '#080', fillColor: 'red', strokeWidth: 4,
        points: [
          LC.createShape('Point', { x: 310, y: 10 }),
          LC.createShape('Point', { x: 310, y: 90 }),
          LC.createShape('Point', { x: 350, y: 50 }),
          LC.createShape('Point', { x: 390, y: 90 }),
          LC.createShape('Point', { x: 390, y: 10 })
        ]
      }),
      LC.createShape('Polygon', {
        strokeColor: '#080', fillColor: 'red', strokeWidth: 4,
        isClosed: false,
        points: [
          LC.createShape('Point', { x: 410, y: 10 }),
          LC.createShape('Point', { x: 410, y: 90 }),
          LC.createShape('Point', { x: 450, y: 50 }),
          LC.createShape('Point', { x: 490, y: 90 }),
          LC.createShape('Point', { x: 490, y: 10 })
        ]
      }),
      //创建长方形，LC.createShape('Rectangle', {x, y, width, height, strokeWidth, strokeColor, fillColor})
      LC.createShape('Rectangle', {
        x: 510, y: 10, width: 80, height: 80,
        strokeColor: '#080', fillColor: 'red'
      }),
      LC.createShape('Rectangle', {
        x: 610, y: 10, width: 80, height: 80,
        strokeColor: '#080', fillColor: 'red', strokeWidth: 2
      }),
      //创建椭圆，LC.createShape('Ellipse', {x, y, width, height, strokeWidth, strokeColor, fillColor})
      LC.createShape('Ellipse', {
        x: 710, y: 10, width: 80, height: 80,
        strokeColor: '#080', fillColor: 'red'
      }),
      //创建选择框
      LC.createShape('SelectionBox', {
        shape: LC.createShape('Ellipse', {
          x: 820, y: 20, width: 60, height: 60,
          strokeColor: '#080', fillColor: 'red'
        })
      }),
      //创建直线，LC.createShape('Line', {x1, y1, x2, y2, strokeWidth, color, capStyle, endCapShapes:[null,arrow]})
      LC.createShape('Line', {
        x1: 10, y1: 210, x2: 90, y2: 290,
        strokeColor: '#080', strokeWidth: 1
      }),
      LC.createShape('Line', {
        x1: 110, y1: 210, x2: 110, y2: 290,
        strokeColor: '#080', strokeWidth: 1
      }),
      LC.createShape('Line', {
        x1: 210, y1: 210, x2: 210, y2: 290,
        strokeColor: '#080', strokeWidth: 2
      }),
      LC.createShape('Line', {
        x1: 310, y1: 210, x2: 390, y2: 290,
        strokeColor: '#080', strokeWidth: 1,
        dash: [2, 4], endCapShapes: ['arrow', 'arrow']
      }),
      LC.createShape('Line', {
        x1: 410, y1: 210, x2: 490, y2: 290,
        strokeColor: '#080', strokeWidth: 5,
        dash: [10, 20], endCapShapes: ['arrow', 'arrow']
      }),
      //创建线条轨迹，LC.createShape('LinePath', {points, smooth})
      LC.createShape('LinePath', {
        points: [
          LC.createShape('Point', { x: 510, y: 210, size: 1, color: '#080' }),
          LC.createShape('Point', { x: 510, y: 290, size: 1, color: '#080' }),
          LC.createShape('Point', { x: 590, y: 290, size: 1, color: '#080' }),
          LC.createShape('Point', { x: 590, y: 210, size: 1, color: '#080' })
        ]
      }),
      LC.createShape('LinePath', {
        points: [
          LC.createShape('Point', { x: 610, y: 210, size: 2, color: '#080' }),
          LC.createShape('Point', { x: 610, y: 290, size: 2, color: '#080' }),
          LC.createShape('Point', { x: 690, y: 290, size: 2, color: '#080' }),
          LC.createShape('Point', { x: 690, y: 210, size: 2, color: '#080' })
        ]
      }),
      //创建橡皮擦轨迹，LC.createShape('ErasedLinePath', {points, interpolate})
      LC.createShape('ErasedLinePath', {
        points: [
          LC.createShape('Point', { x: 610, y: 210, size: 1, color: '#080' }),
          LC.createShape('Point', { x: 610, y: 290, size: 1, color: '#080' }),
          LC.createShape('Point', { x: 690, y: 290, size: 1, color: '#080' }),
          LC.createShape('Point', { x: 690, y: 210, size: 1, color: '#080' })
        ]
      }),
      //创建文字，forcewith文字区域宽度
      LC.createShape('Text', {
        x: 0, y: 400, v: 1,
        text: "one\ntwo three four five",
        color: '#080', font: '18px bold Helvetica',
        forcedWidth: 100, forcedHeight: 100
      }),
      LC.createShape('Text', {
        x: 110, y: 424, v: 0,
        text: "one\ntwo three four five",
        color: '#080', font: '18px bold Helvetica',
        forcedWidth: 200, forcedHeight: 200
      })
    ];
    // 为图形添加一个形状，saveShape
    shapes.map(shape => lc.saveShape(shape))
    // shape and json
    const jsonShape = {
        className: "LinePath",
        data: {
          pointColor: "hsla(0, 0%, 0%, 1)",
          pointCoordinatePairs: [[710,210],[710,290],[790,290],[790,210]],
          pointSize: 5,
          smooth: true,
        }
      }
    const shapes2 = LC.JSONToShape(jsonShape)
    lc.saveShape(shapes2)
    console.log(LC.shapeToJSON(shapes2))
    // render shapes
    /*
    LC.renderShapesToCanvas(shapes, bounds, scale=1, canvas=null)
    将给定的形状绘制到给定的画布上。如果没有提供，则创建一个新画布。返回包含渲染形状的画布。
    shapes:	shape列表
    bounds:	对象{x,y,width,height},指定要绘制的位置（缩放前的坐标）
    scale
    canvas:	要渲染形状的画布对象。如果为null，则将使用由边界指定的大小创建新的画布。
    */
    var renderCanvas = LC.renderShapesToCanvas(shapes, {x:10,y:10,width:800,height:400})
    //将形状列表转换为SVG字符串，LC.renderShapesToSVG(shapes, bounds, backgroundColor)
    var renderSVG = LC.renderShapesToSVG(shapes, { x: 10, y: 10, width: 800, height: 400 })
    // 自定义形状，LC.defineShape(name, methods)，参考：http://literallycanvas.com/api/shapes.html#defining-shapes

  </script>
</body>

</html>